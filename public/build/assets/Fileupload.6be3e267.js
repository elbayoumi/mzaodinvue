import{_ as y}from"./LayoutAuthenticated.5e8288e2.js";import{Z as I,T as x,k as d,K as c,d as n,a as f,w as v,c as w,e as m,o as l,f as e,b as k,F as C,s as M,t as U}from"./app.a1537b29.js";import{M as L}from"./ModalImage.cdd1ae8c.js";import{_ as j}from"./_plugin-vue_export-helper.cdc0426e.js";import"./FormControl.246d2eb6.js";import"./colors.8b6b0282.js";import"./BaseLevel.8b44b6d2.js";const A={components:{LayoutAuthenticated:y,Head:I,ModalImage:L},props:{errors:Object,productId:{type:String}},setup(u){const s=x({image:[]}),a=d([]),o=d(!1),i=d("");return{form:s,images:a,modalImageUrl:i,modalOpen:o,previewImages:t=>{a.value=[],Array.from(t.target.files).forEach(r=>{a.value.push({url:URL.createObjectURL(r)}),s.image.push(r)})},submit:()=>{Array.from(a).forEach(r=>{s.image.push(r)}),s.post(route("admin.image.store",u.productId))},removeImage:t=>{a.value.splice(t,1),s.image.splice(t,1)},openImageModal:t=>{i.value=a.value[t].url,o.value=!0,console.log(i.value)}}}},O=e("h2",{class:"text-xl font-semibold leading-tight text-gray-800"}," Image Upload ",-1),B={class:"py-12"},F={class:"mx-auto max-w-7xl sm:px-6 lg:px-8"},N={class:"overflow-hidden bg-white shadow-sm sm:rounded-lg"},S={class:"p-6 bg-white border-b border-gray-200"},E={class:"mb-6"},H=e("label",{for:"File",class:"text-black"},"Images Upload",-1),V={key:0,class:"mb-6 text-red-500"},D={class:"grid grid-cols-3 gap-4"},R=["src","onClick"],q={class:"absolute top-2 right-2"},K=["onClick"],T=e("i",{class:"fas fa-trash"},null,-1),Z=[T],z={key:1,class:"mt-4 font-bold text-red-600"},G=e("div",{class:"flex justify-center mt-6"},[e("button",{type:"submit",class:"px-6 py-2 text-white bg-gray-900 rounded hover:bg-gray-800 focus:outline-none"}," Save ")],-1);function J(u,s,a,o,i,h){const g=c("Head"),p=c("LayoutAuthenticated"),_=c("ModalImage");return l(),n("div",null,[f(g,{title:"Dashboard"}),f(p,null,{header:v(()=>[O]),default:v(()=>[e("div",B,[e("div",F,[e("div",N,[e("div",S,[e("form",{onSubmit:s[1]||(s[1]=k((...t)=>o.submit&&o.submit(...t),["prevent"]))},[e("div",E,[H,e("input",{required:"",type:"file",onChange:s[0]||(s[0]=(...t)=>o.previewImages&&o.previewImages(...t)),ref:"photos",class:"w-full px-4 py-2 mt-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-blue-600",accept:".jpg, .jpeg, .png, .gif, .svg",multiple:""},null,544)]),o.images.length===0?(l(),n("div",V,"No images uploaded yet.")):m("",!0),e("div",D,[(l(!0),n(C,null,M(o.images,(t,r)=>(l(),n("div",{key:r,class:"relative"},[e("img",{src:t.url,class:"w-full h-auto rounded-lg cursor-pointer",onClick:b=>o.openImageModal(r)},null,8,R),e("div",q,[e("div",{onClick:b=>o.removeImage(r),class:"px-2 py-1 cursor-pointer bg-red-500 text-white font-semibold rounded-full hover:bg-red-600 focus:outline-none"},Z,8,K)])]))),128))]),a.errors.image?(l(),n("div",z,U(a.errors.image),1)):m("",!0),G],32)])])])])]),_:1}),o.modalOpen.value?(l(),w(_,{key:0,imageUrl:o.modalImageUrl.value,onClose:s[2]||(s[2]=t=>o.modalOpen.value=!1)},null,8,["imageUrl"])):m("",!0)])}const oe=j(A,[["render",J]]);export{oe as default};
